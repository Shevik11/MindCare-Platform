generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Comments {
  id             Int            @id @default(autoincrement())
  rating         Int
  text           String
  createdAt      DateTime       @default(now()) @db.Timestamptz(6)
  updatedAt      DateTime       @updatedAt @db.Timestamptz(6)
  psychologistId Int?
  userId         Int?
  Psychologists  Psychologists? @relation(fields: [psychologistId], references: [id])
  Users          Users?         @relation(fields: [userId], references: [id])
}

model Psychologists {
  id                     Int        @id @default(autoincrement())
  specialization         String?    @db.VarChar(255)
  experience             Int?       @default(0)
  bio                    String?
  price                  Decimal?   @default(0) @db.Decimal(10, 2)
  status                 String     @default("pending") @db.VarChar(50)
  qualificationDocument  String?    @db.VarChar(1000)
  createdAt              DateTime   @default(now()) @db.Timestamptz(6)
  updatedAt              DateTime   @updatedAt @db.Timestamptz(6)
  userId                 Int?
  Comments               Comments[]
  Users                  Users?     @relation(fields: [userId], references: [id])
}

model Users {
  id                 Int              @id @default(autoincrement())
  email              String           @unique @db.VarChar(255)
  password           String           @db.VarChar(255)
  role               enum_Users_role? @default(patient)
  firstName          String?          @db.VarChar(255)
  lastName           String?          @db.VarChar(255)
  createdAt          DateTime         @default(now()) @db.Timestamptz(6)
  updatedAt          DateTime         @updatedAt @db.Timestamptz(6)
  photoUrl           String?          @db.VarChar(255)
  emailNotifications Boolean          @default(true)
  Articles           Articles[]
  Comments           Comments[]
  Psychologists      Psychologists[]
}

model Articles {
  id          Int      @id @default(autoincrement())
  title       String   @db.VarChar(500)
  description String?
  image       String?  @db.VarChar(1000)
  readTime    String?  @db.VarChar(50)
  author      String?  @db.VarChar(255)
  content     String?
  status      String   @default("draft") @db.VarChar(50)
  createdAt   DateTime @default(now()) @db.Timestamptz(6)
  updatedAt   DateTime @updatedAt @db.Timestamptz(6)
  userId      Int?
  Users       Users?   @relation(fields: [userId], references: [id])
}

enum enum_Users_role {
  patient
  psychologist
  admin
}
